<template name="settingsStores">
  <div class="input-field">
    <input id="new-store" autocorrect="off" autocapitalize="none" type="text"/>
    <label for="new-store">New Store</label>
  </div>
  <section class="stores">
    <ul class="popout collapsible">
      {{#each stores}}
        {{>settingsStore}}
      {{/each}}
    </ul>
  </section>
</template>

<template name="settingsStore">
  <li>
    <div class="collapsible-header">
      <a href="#" class="" name="store-name">
        {{name}}
      </a>
      <a href="#" class="secondary-content dont-collapse" name="edit-store-btn">
        <i class="material-icons">edit</i>
      </a>
      <input class="inline-input hide dont-collapse" autocorrect="off" autocapitalize="none" type="text" name="edit-store-field"/>
      <a class="secondary-content dont-collapse" name="delete-store" data-modal="#confirm-delete-store-{{_id}}">
        <i class="material-icons">delete</i>
      </a>
      <div id="confirm-delete-store-{{_id}}" class="modal bottom-sheet">
        <div class="modal-content">
          <p>Permanently delete <strong>{{name}}</strong></p>
        </div>
        <div class="modal-footer">
          <a href="#" class="modal-action modal-close waves-effect waves-red btn-flat confirm-delete-store">OK</a>
          <a href="#" class="modal-action modal-close waves-effect waves-green btn-flat dont-collapse cancel-delete-store">Cancel</a>
        </div>
      </div>
    </div>
    <div class="collapsible-body collection" store-id="{{_id}}">
      {{#each items _id}}
      {{>storeItems}}
      {{/each}}
    </div>
  </li>
</template>

<template name="storeItems">
  <a href="#!" class="collection-item" name="store-item" data-id="{{_id}}">{{name}}</a>
</template>
